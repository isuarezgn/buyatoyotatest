var JSON=JSON||{},mm_engine;"undefined"===typeof mm_logError&&("undefined"===typeof mm_debug&&(mm_debug=0),mm_logError=function(b){mm_debug&&"undefined"!==typeof console&&console.log(b)});mm_safe_loop=function(b,a){var c=0;this.step=function(d){++c>=a?(c=0,setTimeout(function(){b(d)},1,[])):b(d)}};
Array.prototype.indexOf||(Array.prototype.indexOf=function(b,a){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;a=+a||0;Infinity===Math.abs(a)&&(a=0);0>a&&(a+=c,0>a&&(a=0));for(;a<c;a++)if(this[a]===b)return a;return-1});
Array.prototype.forEach||(Array.prototype.forEach=function(b){if(void 0===this||null===this)throw new TypeError;var a=Object(this),c=a.length>>>0;if("function"!==typeof b)throw new TypeError;for(var d=2<=arguments.length?arguments[1]:void 0,e=0;e<c;e++)e in a&&b.call(d,a[e],e,a)});
mm_engine=function(){function b(){}b.initialize=function(a){mm_logError("[MRE] initializing...");this.version="1.0."+1*new Date;this.mm_type=this.mm_type||"a";this.key=2;this.integrations=[];this.callbacks=[];window.callback_function="mm_engine.process_callbacks";this.custVars=[];this.queue_rulesets=!0;this.process_rules_on_callback=!1;this.queue=[];this.data={};this.ruleset_counter=0;this.dt_sdrClass="mm-phone-number";this.params=a||{};this.params.url=document.location.href;this.params.referrer=
document.referrer;this.params.userAgent=navigator.userAgent||navigator.vendor||window.opera;this.params.default_cc="";this.params.default_number="";this.prepare_data(!1);this.set_cc(this.get_url_var("mm_campaign",this.params.url));this.set_default_number(this.params.default_number);"undefined"===typeof window.mle_initialized&&(window.mle_initialized=!0)};b.prepare_data=function(a){var c=this.get_cookie("MM_DATA",null);cookie_object={};if(c&&!a&&(cookie_object=this.json_parse(c),this.data.doc_url=
cookie_object.doc_url,this.data.referring_url=cookie_object.referring_url,this.data.traffic_type=cookie_object.traffic_type,this.data.keyword=cookie_object.keyword,this.data.rawsearch=cookie_object.rawsearch,this.data.engine=cookie_object.engine,this.data.device=cookie_object.device,this.data.mm_campaign=cookie_object.mm_campaign,this.get_url_var("mm_campaign",this.params.url))){this.data.mm_campaign=this.get_url_var("mm_campaign",this.params.url);var d=this.json_stringify(this.data);mm_logError("[MRE] prepare: updating mm_campaign");
this.set_cookie("MM_DATA",d,43200)}if(!c||a)this.data.doc_url=this.params.url,this.data.referring_url=this.params.referrer,this.data.traffic_type=this.get_data("traffic_type"),this.data.keyword=this.get_data("keyword"),this.data.rawsearch=this.get_data("rawsearch"),this.data.engine=this.get_data("engine"),this.data.device=this.get_data("device"),this.data.mm_campaign=this.get_url_var("mm_campaign",this.data.doc_url),d=this.json_stringify(this.data),c||(mm_logError("[MRE] prepare: creating new data cookie"),
this.set_cookie("MM_DATA",d,43200))};b.prepare_search_field=function(a){var c,d,b=[];if("object"===typeof a)a.hasOwnProperty("cookie")&&(c="cookie",d=a.cookie.toLowerCase()),a.hasOwnProperty("url_var")&&(c="url_var",d=a.url_var.toLowerCase()),a.hasOwnProperty("referring_url_var")&&(c="referring_url_var",d=a.referring_url_var.toLowerCase());else{var g=[];c=a;d="";"undefined"!==typeof c&&"object"!==typeof c?g=c.split("("):g[0]=c;c=g[0];1 in g&&(input_type_split=g[1].split(")"),d=input_type_split[0])}b[0]=
c;b[1]=d;return b};b.replace_dyn_variables=function(a){if("string"===typeof a&&-1!==a.indexOf("::"))switch(a){case "::campaign_code":a=this.params.campaign,""===a&&(a=this.data.mm_campaign)}return a};b.prepare_search_value=function(a){if("object"===typeof a)for(i in a)a[i]=this.replace_dyn_variables(a[i]);else a=this.replace_dyn_variables(a);return a};b.validate=function(a){if(this.queue_rulesets)this.queue.push(a);else{var c,d=0;this.ruleset_results={};this.ruleset_counter++;var b=!0,g=["is_in",
"is_not_in","is_not","contains","not_contains"];for(c in a.rules){this.is_action_present("use_campaign",a.actions)&&this.prepare_data(!0);var f=a.rules[c];if("function"!==typeof f){var k=this.prepare_search_value(f[2]),h=this.prepare_search_field(f[0]),l=h[0];null!==h[1]&&(l=h[0]+"->"+h[1]);f=f[1];if("object"===typeof k){var m=l+" "+f+": ";mm_logError("[MRE] validation (ruleset:"+this.ruleset_counter+"): validating rule:"+m);mm_logError(k)}else m=l+" "+f+" "+k,mm_logError("[MRE] validation (ruleset:"+
this.ruleset_counter+"): validating rule:"+m);"string"===typeof f&&(this["rule_"+f](k,h)?this.ruleset_results[h]=!0:(mm_logError("[MRE] validation (ruleset:"+this.ruleset_counter+"): "+l+" "+f+' "'+k+'" failed'),-1!==g.indexOf(f)&&(h=h+"."+k),!0!==this.ruleset_results[h]&&(this.ruleset_results[h]=!1)));this.is_action_present("use_campaign",a.actions)&&this.prepare_data(!1)}}for(d in this.ruleset_results)if(!0!==this.ruleset_results[d]){b=!1;break}b&&(mm_logError("[MRE] validation (ruleset:"+this.ruleset_counter+
"): all rules are true"),this.process_actions(a.actions))}};b.process_validation=function(){mm_logError("[MRE] processing validation queue");this.queue_rulesets=!1;this.queue.forEach(function(a){b.validate(a)})};b.process_callbacks=function(){this.custVars.push(get_cookie("MM_custom1",null));this.custVars.push(get_cookie("MM_custom2",null));this.custVars.push(get_cookie("MM_custom3",null));for(func in this.callbacks)eval(this.callbacks[func].name+"("+this.callbacks[func].args+");")};b.execute=function(){this.ruleset_counter=
0;mm_logError("[MRE] executing");!0===this.queue_rulesets&&!0!==this.process_rules_on_callback&&this.process_validation();this.integrations.forEach(function(a){switch(a.type){case "optimizely":b.enable_optimizely(a.custom);break;case "gua":b.enable_gua(a.custom);break;case "adobe_analytics":b.enable_adobe_analytics(a.custom);break;case "adobe_target":b.enable_adobe_target(a.custom)}});isHidden()?console.log("Prerender Delay"):this.inject_mm_control()};b.is_action_present=function(a,c){for(var d in c)if(c[d].hasOwnProperty(a))return!0;
return!1};b.isIE=function(){var a=navigator.userAgent.toLowerCase();return-1!==a.indexOf("msie")?parseInt(a.split("msie")[1]):!1};b.process_actions=function(a){if("undefined"!==typeof a){var c=0,d=new mm_safe_loop(function(){var e=a[c],g;for(g in e){var f=b.prepare_search_value(e[g]);mm_logError("[MRE] exec action (ruleset:"+b.ruleset_counter+"): "+g+" params: "+f);if(-1!==["string","object"].indexOf(typeof f))b[g](f)}++c<a.length&&d.step()},10);d.step()}};b.rule_is=function(a,c){"object"!==typeof c&&
(c=c.toLowerCase());return"all"===this.get_data(c)&&"traffic_type"===a.toLowerCase()||this.get_data(c)===a.toLowerCase()?!0:!1};b.rule_is_not=function(a,c){return this.rule_is(a,c)?!1:!0};b.rule_contains=function(a,c){return-1!==this.get_data(c).indexOf(a.toLowerCase())?!0:!1};b.rule_not_contains=function(a,c){return this.rule_contains(a,c)?!1:!0};b.rule_is_in=function(a,c){return this.get_data(c)in a};b.rule_is_not_in=function(a,c){return!this.rule_is_in(a,c)};b.rule_wild_in=function(a,c){var d=
!1;if("object"!==typeof a)c=c.toLowerCase(),-1!==a.indexOf(this.get_data(c))&&(d=!0);else for(var b in a)if(-1!==b.indexOf(this.get_data(c))){d=!0;break}return d};b.rule_not_wild_in=function(a,c){return this.rule_wild_in(a,c)?!1:!0};b.get_data=function(a){try{var c,d;"object"===typeof a?(c=a[0],d=a[1]):(c=a.toLowerCase(),d="");c=c.toLowerCase();d=d.toLowerCase();switch(c){case "traffic_type":return this.get_traffic_type();case "keyword":if(this.is_organic()){var b=this.get_data("rawsearch");return unescape(b)}b=
this.get_url_var("keyword",this.data.doc_url);return unescape(b);case "rawsearch":return b=this.get_url_var("q",this.data.referring_url)||this.get_url_var("p",this.data.referring_url),unescape(b);case "engine":return this.parse_url(this.data.referring_url).hostname;case "device":return this.is_mobile()?"mobile":"not_mobile";case "url_var":return b=this.get_url_var(d,this.data.doc_url),""===b&&(b="undefined"),unescape(b);case "cookie":return this.get_cookie(d,"undefined");case "referring_url":return this.get_referring_url().href;
case "referring_domain":return this.get_referring_url().hostname;case "referring_url_var":return b=this.get_url_var(d,this.get_referring_url().href),""===b&&(b="undefined"),unescape(b)}}catch(g){mm_logError("[MRE] get_data error: "+g.message)}};b.get_traffic_type=function(){if(this.is_ppc())return"ppc";if(this.is_organic())return"organic";if(this.is_direct())return"direct";if(this.is_referral())return"referral"};b.do_alert=function(a){alert(a)};b.log=function(a){"undefined"!==typeof console&&console.log(a)};
b.is_direct=function(){return!this.data.referring_url||0===this.data.referring_url};b.is_referral=function(){return!this.is_organic()&&!this.is_ppc()&&!this.is_direct()};b.is_organic=function(){var a=this.parse_url(this.data.referring_url).hostname;gv_inarray=["www.google.com","www.google.ca","search.yahoo.com","r.search.yahoo.com","www.bing.com"].indexOf(a);return this.is_ppc()||-1===gv_inarray?!1:(mm_logError("[MRE] mm_is_organic=true"),!0)};b.is_ppc=function(){return this.get_url_var("keyword",
this.data.doc_url)||this.get_url_var("mm_keyword",this.data.doc_url)||this.get_url_var("mm_replace",this.data.doc_url)||"undefined"!==typeof override_keyword};b.is_mobile=function(){mobile=!1;agent=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(agent)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(agent.substr(0,
4))};b.get_url_var=function(a,c){c||(c=this.params.url);a=a.toLowerCase();c=c.toLowerCase();a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=(new RegExp("[\\?&]"+a+"=([^&#]*)")).exec(c);return null===b?"":b[1]};b.set_custom_var=function(a,c,b){"object"===typeof a&&(cNum=a["0"],cValue=a["1"],cOver=a["2"],this.set_custom_var(cNum,cValue,cOver));this.set_variable("custom"+a,c,b);this.set_cookie("MM_custom"+a,c,720);this.set_variable("mm_c"+a,c,b)};b.set_variable=function(a,c,b){"undefined"===typeof b&&
(b=!1);if(!0===b||""!==c)mm_logError("[MRE] Setting "+a+"= "+c),window[a]=c};b.use_campaign=function(a){this.set_cc(a);window.mm_replace="TRUE";window.mm_action="use_campaign"};b.default_cc=function(a){this.params.default_cc=a};b.set_cc=function(a){this.params.campaign=a};b.get_referring_url=function(){return this.parse_url(this.data.referring_url)};b.get_cc=function(){var a=this.params.campaign||this.params.default_cc;""===a&&(a="undefined");return window.mm_c=a};b.set_default_number=function(a){window.default_number=
a;this.params.default_number=a;""===a&&(window.overwrite_default_number="N")};b.inject_mm_control=function(){this.params.mm_variables=this.get_variables();var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=unescape(("https:"===document.location.protocol?"https://www":"http://www")+".mongoosemetrics.com/jsfiles/js-correlation/mm-control.php"+this.params.mm_variables);var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)};b.inject_mm_rules=function(){var a=
document.createElement("script");a.type="text/javascript";a.async=!0;a.src=unescape(("https:"===document.location.protocol?"https://www":"http://www")+".mongoosemetrics.com/jsfiles/js-correlation/mm-rules.php%3Fmm_c%3D"+this.params.campaign);var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(a,c)};b.run_delayed=function(a,c){window.setTimeout(window[a],c)};b.do_replacement_regex=function(){"function"===typeof mm_action_replace&&mm_action_replace()};b.do_replacement_directories=
function(){this.enable_session_directories()};b.do_replacement=function(){this.execute()};b.do_replacement_single_regex=function(a){var c=a[0],b=a[1];a=a[2];0===c.length?mm_logError("number_to_find:"+numbers[0]+" has 0 length"):(c=this.build_single_number_replacement_regex(c),b=this.format_output_number(b,a),this.domIterator(c,b))};b.enable_session_directories=function(){mm_logError("[MRE] enabling session directories");this.process_rules_on_callback=!0;this.callbacks.push({name:"mm_engine.process_validation",
args:""});window.mm_directories=!0;window.overwrite_default_number="N";this.prepare_data(!0);if(this.is_organic()||this.is_ppc()||this.get_cookie("MM_SDR",null)||"undefined"!==typeof window.enable_affiliate_tracking&&!0===window.enable_affiliate_tracking||"undefined"!==typeof window.enable_direct_tracking&&!0===enable_direct_tracking)this.get_cookie("MM_SDR",null)||this.set_cookie("MM_SDR",1,720);this.prepare_data(!1)};b.enable_session=function(){mm_logError("[MRE] enabling session");this.process_rules_on_callback=
!0;window.mm_session_enabled=!0;this.callbacks.push({name:"mm_engine.process_validation",args:""})};b.set_keyword_variable=function(a){this.get_url_var(a,this.params.url)&&(window.override_keyword=this.get_url_var(a,this.params.url))};b.get_cookie=function(a,c){var b;b=document.cookie.toLowerCase();a=a.toLowerCase();if(b){var e=b.indexOf(a);-1!==e?(namestart=b.indexOf("=",e)+1,nameend=b.indexOf(";",e),-1===nameend&&(nameend=b.length),b=unescape(b.substring(namestart,nameend))):b=unescape(c)}else b=
unescape(c);"null"===b&&(b=null);return b};b.set_cookie=function(a,c,b){"object"===typeof a&&(b=a["2"],c=a["1"],a=a["0"]);if(""!==c){var e=new Date;e.setTime(e.getTime());vtime=e.getTime()+6E4*b;b=new Date(vtime);a=a+"="+escape(c)+";expires="+b.toGMTString()+"; path=/; ";c="."+this.parse_url(location.href).basedomain;document.cookie=a+("domain="+c)}};b.get_sdrClass=function(){return this.dt_sdrClass};b.build_url=function(a,b){var d="",d=this.build_querystring(b);return a+d};b.enable_integration=function(a,
b){switch(a){default:this.integrations.push({type:a,custom:b})}};b.enable_polling=function(a,b){this.callbacks.push({name:"mm_engine.process_polling",args:a+", 0, "+b})};b.set_number_class=function(a){mm_logError("[MRE] Setting the sdr number class to "+a);this.dt_sdrClass=a};b.enable_optimizely=function(a){var b=this.get_cookie("optimizelyBuckets",null),d=this.get_cookie("optimizelySegments",null),e=this.get_cookie("optimizelyEndUserId",null),b=eval("("+unescape(b)+")"),d=eval("("+unescape(d)+")"),
g="",f;for(f in b)"function"!=typeof b[f]&&(g+="&x"+f+"="+b[f]);for(f in d)"function"!=typeof d[f]&&(g+="&s"+f+"="+d[f]);this.set_custom_var(a,g+("&u="+e))};b.enable_gua=function(a){mm_logError("[MRE] processing GUA integration");"undefined"!==typeof ga?ga(function(b){b="ga_"+b.get("clientId");mm_logError("[MRE] ga id = "+b);mm_options("set_custom",a,b)}):(mm_logError("[MRE] GUA is not present"),this.set_custom_var(a,"ga object not present"))};b.enable_adobe_analytics=function(a){mm_logError("[MRE] adobe integration enabled");
if("undefined"!==typeof s.c_r("s_vi")){var b="not set",d=s.c_r("s_vi"),d=(new RegExp(/\|(.*?)\[/g)).exec(d);null!==d&&(b=d[1],mm_logError("[MRE] adobe visitorID = "+b));b.toUpperCase()!=this.get_cookie("MM_custom"+a,"").toUpperCase()?(mm_logError("[MRE] s_vi attribute was defined, attempting to set custom var."),this.set_custom_var(a,b)):mm_logError("[MRE] Vistor ID: "+b+" = custom var value already.")}else mm_logError("[MRE] s_vi attribute was not defined yet.")};b.process_polling=function(a,c,d){if(c<
d){this.integrations.forEach(function(a){var c=a.custom-1,d=b.get_cookie("MM_custom"+a.custom,null),c=new RegExp("^"+b.custVars[c]+"$","i");"optimizely"===a.type&&c.test(d)?b.enable_optimizely(a.custom):"gua"===a.type&&c.test(d)?b.enable_gua(a.custom):"adobe_analytics"===a.type&&c.test(d)?b.enable_adobe_analytics(a.custom):"adobe_target"===a.type&&c.test(d)&&b.enable_adobe_target(a.custom)});var e=b.get_cookie("MM_custom1",null),g=b.get_cookie("MM_custom2",null),f=b.get_cookie("MM_custom3",null),
k=new RegExp("^"+this.custVars[1]+"$","i"),h=new RegExp("^"+this.custVars[2]+"$","i");(new RegExp("^"+this.custVars[0]+"$","i")).test(e)&&k.test(g)&&h.test(f)||(mm_logError("[MRE] Poll Pixelfire."),b.pixelfire(),this.custVars[0]=e,this.custVars[1]=g,this.custVars[2]=f);b.poll(a,c,d)}else mm_logError("[MRE] Poll Complete.")};b.poll=function(a,c,d){setTimeout(function(){b.process_polling(a,c+1,d)},1E3*a)};b.pixelfire=function(){pixelfire(tnarray[0])};b.enable_adobe_target=function(a){mm_logError("[MRE] processing adobe test and target integration");
window.mboxFactoryDefault&&"function"==typeof mboxFactoryDefault.getPCId?(tnt_mboxPC=mboxFactoryDefault.getPCId().getId(),this.set_custom_var(a,tnt_mboxPC)):(mm_logError("[MRE] adobe test & target MBOX is not present"),this.set_custom_var(a,"adobe t&t mbox not present"))};b.build_querystring=function(a){var b=[],d;for(d in a)a.hasOwnProperty(d)&&b.push(encodeURIComponent(d)+"="+encodeURIComponent(a[d]));return"?"+b.join("&")};b.get_variables=function(){mm_logError("[MRE] preparing variables for control");
this.prepare_data(!0);var a,b,d=[],e=this.parse_url(this.params.url).querystring_array;for(a in e)"function"!=typeof e[a]&&(b=e[a],d[a]=b);d.mm_num=this.get_cookie("MM_correlation_Number",null);d.mm_sdr=this.get_cookie("MM_SDR",0);d.sdr_class=this.get_sdrClass();d.mm_chk_id=Math.round((new Date).getTime()/1E3);d.mm_is_organic=this.is_organic();d.mm_get_uuid=this.get_cookie("MM_UUID",null);d.mm_campaign=this.get_cc();d.mm_t=this.mm_type;a=this.build_querystring(d);this.prepare_data(!1);return escape(a)};
b.xor_encrypt=function(a,b){"undefined"===typeof b&&(b=this.key);var d="";for(i=0;i<a.length;++i)d+=String.fromCharCode(b^a.charCodeAt(i));return d};b.xor_decrypt=function(a,b){"undefined"===typeof b&&(b=this.key);var d="";for(i=0;i<a.length;i++)d+=String.fromCharCode(b^a.charCodeAt(i));return d};b.format_output_number=function(a,b){return-1<b?this.format_number(a,b):a};b.format_number=function(a,b){return a};b.domIterator=function(a,b,d){d=(d||document.body).childNodes;for(var e=d.length,g="html head style link title meta script object iframe".split(" ");e--;){var f=
d[e];1===f.nodeType&&("A"===f.nodeName&&"unknown"!==typeof f.href&&f.href.match(/^tel:/)&&(f.href=f.href.replace(a,b)),-1===g.indexOf(f.nodeName.toLowerCase())&&this.domIterator(a,b,f));if(null!==f&&3===f.nodeType&&void 0!==f.data){var k=f.data.replace(a,b);k!==f.data&&(f.data=k)}}};b.build_single_number_replacement_regex=function(a){var b="",d=[];if("0"===a.substring(0,1))var e=a.substring(0,4),g=a.substring(4,7),f=a.substring(7,11),k=a.substring(0,5),h=a.substring(5,8),l=a.substring(8,11);else e=
a.substring(0,3),g=a.substring(3,6),f=a.substring(6,10);d[0]="\\(\\s?"+e+"\\s?\\)[\\-\\.\\s]?"+g+"[\\-\\.\\s]?"+f+"(?!\\d)(?=[<\\s\\.\\!\\?\\,]?)";d[1]="\\b"+e+"\\s?[\\-\\.\\s]?"+g+"[\\-\\.\\s]?"+f+"\\b(?!\\d)(?=[<\\s\\.\\!\\?\\,]?)";d[2]="\\b("+e+"|"+k+")\\s("+g+"|"+h+")\\s("+f+"|"+l+")\\b(?!\\d)(?=[<\\s\\.\\!\\?\\,]?)";a=d.length-1;for(i=0;i<=a;i++)b=0===i?d[i]:b+"|"+d[i];return regex=new RegExp(b,"gi")};b.json_stringify=JSON.stringify||function(a){var b=typeof a;if("object"!==b||null===a)return"string"===
b&&(a='"'+a+'"'),String(a);var d,e,g=[],f=a&&a.constructor===Array;for(d in a)e=a[d],b=typeof e,"string"===b?e='"'+e+'"':"object"===b&&null!==e&&(e=this.json_stringify(e)),g.push((f?"":'"'+d+'":')+String(e));return(f?"[":"{")+String(g)+(f?"]":"}")};b.json_parse=JSON.parse||function(a){""===a&&(a='""');eval("var p="+a+";");return p};b.parse_url=function(a){parsed_obj={protocol:"",href:"",path:"",hostname:"",subdomain:"",basedomain:"",stripped_domain:"",tld:"",querystring:"",querystring_array:[],anchor:""};
var b=document.createElement("a");b.href=a;var d=b.hostname.match(/^([a-z0-9\-\.]+\.)??([a-z0-9\-]+)(\.com|\.gl|\.net|\.org|\.biz|\.ws|\.in|\.me|\.co\.uk|\.co|\.org\.uk|\.ltd\.uk|\.plc\.uk|\.me\.uk|\.edu|\.mil|\.br\.com|\.cn\.com|\.eu\.com|\.hu\.com|\.no\.com|\.qc\.com|\.sa\.com|\.se\.com|\.se\.net|\.us\.com|\.uy\.com|\.ac|\.co\.ac|\.gv\.ac|\.or\.ac|\.ac\.ac|\.af|\.am|\.as|\.at|\.ac\.at|\.co\.at|\.gv\.at|\.or\.at|\.asn\.au|\.com\.au|\.edu\.au|\.org\.au|\.net\.au|\.id\.au|\.be|\.ac\.be|\.adm\.br|\.adv\.br|\.am\.br|\.arq\.br|\.art\.br|\.bio\.br|\.cng\.br|\.cnt\.br|\.com\.br|\.ecn\.br|\.eng\.br|\.esp\.br|\.etc\.br|\.eti\.br|\.fm\.br|\.fot\.br|\.fst\.br|\.g12\.br|\.gov\.br|\.ind\.br|\.inf\.br|\.jor\.br|\.lel\.br|\.med\.br|\.mil\.br|\.net\.br|\.nom\.br|\.ntr\.br|\.odo\.br|\.org\.br|\.ppg\.br|\.pro\.br|\.psc\.br|\.psi\.br|\.rec\.br|\.slg\.br|\.tmp\.br|\.tur\.br|\.tv\.br|\.vet\.br|\.zlg\.br|\.br|\.ab\.ca|\.bc\.ca|\.mb\.ca|\.nb\.ca|\.nf\.ca|\.ns\.ca|\.nt\.ca|\.on\.ca|\.pe\.ca|\.qc\.ca|\.sk\.ca|\.yk\.ca|\.ca|\.cc|\.ac\.cn|\.com\.cn|\.edu\.cn|\.gov\.cn|\.org\.cn|\.bj\.cn|\.sh\.cn|\.tj\.cn|\.cq\.cn|\.he\.cn|\.nm\.cn|\.ln\.cn|\.jl\.cn|\.hl\.cn|\.js\.cn|\.zj\.cn|\.ah\.cn|\.gd\.cn|\.gx\.cn|\.hi\.cn|\.sc\.cn|\.gz\.cn|\.yn\.cn|\.xz\.cn|\.sn\.cn|\.gs\.cn|\.qh\.cn|\.nx\.cn|\.xj\.cn|\.tw\.cn|\.hk\.cn|\.mo\.cn|\.cn|\.cx|\.cz|\.de|\.dk|\.fo|\.com\.ec|\.tm\.fr|\.com\.fr|\.asso\.fr|\.presse\.fr|\.fr|\.gf|\.gs|\.co\.il|\.net\.il|\.ac\.il|\.k12\.il|\.gov\.il|\.muni\.il|\.ac\.in|\.co\.in|\.org\.in|\.ernet\.in|\.gov\.in|\.net\.in|\.res\.in|\.is|\.it|\.ac\.jp|\.co\.jp|\.go\.jp|\.or\.jp|\.ne\.jp|\.ac\.kr|\.co\.kr|\.go\.kr|\.ne\.kr|\.nm\.kr|\.or\.kr|\.li|\.lt|\.lu|\.asso\.mc|\.tm\.mc|\.com\.mm|\.org\.mm|\.net\.mm|\.edu\.mm|\.gov\.mm|\.ms|\.nl|\.no|\.nu|\.pl|\.ro|\.org\.ro|\.store\.ro|\.tm\.ro|\.firm\.ro|\.www\.ro|\.arts\.ro|\.rec\.ro|\.info\.ro|\.nom\.ro|\.nt\.ro|\.se|\.si|\.com\.sg|\.org\.sg|\.net\.sg|\.gov\.sg|\.sk|\.st|\.tf|\.ac\.th|\.co\.th|\.go\.th|\.mi\.th|\.net\.th|\.or\.th|\.tm|\.to|\.com\.tr|\.edu\.tr|\.gov\.tr|\.k12\.tr|\.net\.tr|\.org\.tr|\.com\.tw|\.org\.tw|\.net\.tw|\.ac\.uk|\.uk\.com|\.uk\.net|\.gb\.com|\.gb\.net|\.vg|\.sh|\.kz|\.ch|\.info|\.ua|\.gov|\.name|\.pro|\.ie|\.hk|\.com\.hk|\.org\.hk|\.net\.hk|\.edu\.hk|\.us|\.tk|\.cd|\.by|\.ad|\.lv|\.eu\.lv|\.bz|\.es|\.jp|\.cl|\.ag|\.mobi|\.eu|\.co\.nz|\.org\.nz|\.net\.nz|\.maori\.nz|\.iwi\.nz|\.io|\.la|\.md|\.sc|\.sg|\.vc|\.tw|\.travel|\.my|\.se|\.tv|\.pt|\.com\.pt|\.edu\.pt|\.asia|\.fi|\.com\.ve|\.net\.ve|\.fi|\.org\.ve|\.web\.ve|\.info\.ve|\.co\.ve|\.tel|\.im|\.gr|\.ru|\.net\.ru|\.org\.ru|\.hr|\.com\.hr)$/);
if("undefined"===typeof d||!d||"undefined"===typeof a||!a)return parsed_obj;d[1]="undefined"!==typeof d[1]?d[1].slice(0,-1):"";if(-1!==b.search.indexOf("?")){var e={};b.search.slice(1).split("&").forEach(function(a){a=a.split("=");e[a[0]]=decodeURIComponent(a[1]||"")})}parsed_obj.protocol=b.protocol.slice(0,-1);parsed_obj.href=b.href;parsed_obj.path=b.pathname;parsed_obj.hostname=b.hostname;parsed_obj.subdomain=d[1];parsed_obj.basedomain=d[2]+d[3];parsed_obj.stripped_domain=d[2];parsed_obj.tld=d[3].slice(1);
parsed_obj.querystring=b.search;parsed_obj.querystring_array=e||[];parsed_obj.anchor=b.hash;return parsed_obj};b.allow_rule_queue=function(a){this.queue_rulesets="true"!==a&&!0!==a?!1:!0};b.replace_regex=function(a,b,d){a=build_single_number_regex(a.replace_number,a.tracking_number,d);return b.replace(a.input,a.output)};b.replace_innerHTML=function(a){var c=b.replace_regex(a,a.element.innerHTML,customer_number_format);c!==a.element.innerHTML&&(a.element.innerHTML=c)};b.replace_attributes=function(a){for(var c=
a.element,d=0;d<c.attributes.length;d++){var e=c.attributes[d],g=customer_number_format;e.specified&&("href"===e.name&&(g=7),newText=b.replace_regex(a,e.value,g),newText!==e.value&&(e.value=newText))}};b.process_option=function(a){var b=a[0];switch(b){case "default_number":this.set_default_number(a[1]);break;case "default_cc":this.default_cc(a[1]);break;case "set_custom":switch(a[2]){case "get_url_var":b=this.get_url_var(a[3]);this.set_custom_var(a[1],b,a[4]);break;case "callback":b=eval(a[3]+"();");
this.set_custom_var(a[1],b,a[4]);break;default:this.set_custom_var(a[1],a[2],a[3])}break;case "set_variable":switch(a[2]){case "get_url_var":b=this.get_url_var(a[3]);this.set_variable(a[1],b,a[4]);break;case "callback":b=eval(a[3]+"();");this.set_variable(a[1],b,a[4]);break;default:this.set_variable(a[1],a[2],a[3])}break;case "add_ruleset":this.validate(a[1]);break;case "execute":this.execute();break;case "callback":eval(a[1]+"();");break;case "enable_session":this.enable_session();break;case "enable_session_directories":this.enable_session_directories();
break;case "queue_rules":this.allow_rule_queue(a[1]);break;case "enable_integration":this.enable_integration(a[1],a[2]);break;case "enable_integration_polling":this.enable_polling(a[1],a[2]);break;case "set_number_class":this.set_number_class(a[1]);break;case "allow_multiple_ip_requests":!0===a[1]&&(window.allow_multiple_ip_requests=1);break;default:mm_logError("[MRE] method: "+b+" does not exist")}};return b}();mm_engine.initialize();
var enable_organic_encrypted=!0,mm_cookie_num,mm_p_id=mm_engine.get_url_var("mm_p_id",window.location.href);0<mm_p_id.length?(mm_cookie_num=mm_engine.xor_decrypt(mm_p_id,1),mm_engine.set_cookie("MM_correlation_Number",mm_cookie_num,46E3)):mm_cookie_num=mm_engine.get_cookie("MM_correlation_Number",null);mm_is_ppc=function(){mm_engine.prepare_data(!0);var b=mm_engine.is_ppc();mm_engine.prepare_data(!1);return b}();
mm_is_organic=function(){mm_engine.prepare_data(!0);var b=mm_engine.is_organic();mm_engine.prepare_data(!1);return b}();function enable_mm_directories(){mm_engine.enable_session_directories()}function mm_pixelfire(){mm_engine.pixelfire()}function getVar(b){return getURLVar(b)}function getURLVar(b){return mm_engine.get_url_var(b,window.location.href)}function xor_str(b,a){return mm_engine.xor_encrypt(b,a)}function convert_str_to_href(b){return mm_engine.parse_url(b)}
function set_c(b,a,c){mm_engine.set_cookie(b,a,c)}var mm_rules=mm_engine;if("undefined"!==typeof mm_options)for(options_q=mm_options.q.slice(),mm_options=function(){mm_engine.process_option(arguments)};0<options_q.length;)input_array=options_q.shift(),mm_engine.process_option(input_array);function getHiddenProp(){var b=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var a=0;a<b.length;a++)if(b[a]+"Hidden"in document)return b[a]+"Hidden";return null}
function isHidden(){var b=getHiddenProp();return b?document[b]:!1}function visChange(b){isHidden()||(mm_logError("[MRE] Remove Visibility Listener"),document.removeEventListener(b,visFunc),mm_engine.execute())}if(isHidden()){var visProp=getHiddenProp();if(visProp){var eventName=visProp.replace(/[H|h]idden/,"")+"visibilitychange",visFunc=function(){visChange(eventName)};document.addEventListener(eventName,visFunc,!1)}};
