define(["infra/dataObject","infra/logger"],function(n,t){var e=null,a=null,i=null,r=null,o=function(n){var t=null,e=u();return e&&(t=e.getDataByKey(n.toLowerCase())),t},u=function(){return a},f=function(){var t={},i=EB.getSVData();if(i)for(var r in i)t[r.toLowerCase()]=i[r];else if(i=e.svData)for(var r in i)t[r]=i[r].value;a=new n("sv",t)},l=function(){r&&r()},v=function(){f(),D(),l()},c=function(){v()},E=function(){v()},D=function(){i&&(i.getSVData=o)},d=function(n,t,a){i=t,e=n.svSchema,r=a,EB.getSVData?EB.getSVData()?c():(EB.addEventListener(EBG.EventName.SV_DATA_READY,c),EB.addEventListener(EBG.EventName.SV_DATA_FAILED,E)):E()};return t.log("svManager module loaded"),{id:"SV",init:d,getDataObject:u}});